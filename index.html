<!DOCTYPE html>
<html lang="zh-Hant">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>éŠæˆ²å‚·å®³è¨ˆç®—å™¨</title>
  <!-- Bootstrap 5 CDN -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
</head>
<body class="bg-light">

<div class="container py-5">
  <h1 class="text-center mb-4">ğŸ§® éŠæˆ²å‚·å®³è¨ˆç®—å™¨</h1>
  <div class="card shadow">
    <div class="card-body">
      <form id="damage-form" class="row g-3">

        <!-- è¼¸å…¥æ¬„ä½ç¾¤çµ„ -->
        <div class="col-md-6">
          <label class="form-label">åŸºç¤æŠ€èƒ½å‚·å®³</label>
          <input type="number" class="form-control" id="baseSkill" value="100">
        </div>
        <div class="col-md-6">
          <label class="form-label">æŠ€èƒ½å‚·å®³%</label>
          <input type="number" class="form-control" id="skillPercent" value="150">
        </div>

        <div class="col-md-6">
          <label class="form-label">é¢æ¿å‚·å®³å€¼</label>
          <input type="number" class="form-control" id="panelDamage" value="200">
        </div>
        <div class="col-md-6">
          <label class="form-label">å‚·å®³%</label>
          <input type="number" class="form-control" id="damagePercent" value="120">
        </div>

        <div class="col-md-6">
          <label class="form-label">æŠ€å‚·%</label>
          <input type="number" class="form-control" id="techBonus" value="30">
        </div>
        <div class="col-md-6">
          <label class="form-label">å±¬å‚·%</label>
          <input type="number" class="form-control" id="elementBonus" value="15">
        </div>

        <div class="col-md-6">
          <label class="form-label">å°å±¬å‚·%</label>
          <input type="number" class="form-control" id="targetElementBonus" value="10">
        </div>
        <div class="col-md-6">
          <label class="form-label">ä¸»æ­¦å™¨å‚·%</label>
          <input type="number" class="form-control" id="weaponBonus" value="20">
        </div>

        <div class="col-md-6">
          <label class="form-label">ç­‰å·®</label>
          <input type="number" class="form-control" id="levelDiff" value="80">
        </div>
        <div class="col-md-6">
          <label class="form-label">å±¬æŠ—%</label>
          <input type="number" class="form-control" id="elementResist" value="10">
        </div>

        <div class="col-md-6">
          <label class="form-label">é˜²ç¦¦æ¸›å‚·%</label>
          <input type="number" class="form-control" id="defenseReduction" value="5">
        </div>
        <div class="col-md-6">
          <label class="form-label">çˆ†æ“Šå‚·å®³%</label>
          <input type="number" class="form-control" id="critDamage" value="220">
        </div>

        <div class="col-md-6">
          <label class="form-label">å—åˆ°çˆ†æ“Šå‚·å®³é™ä½%</label>
          <input type="number" class="form-control" id="critReduce" value="10">
        </div>
        <div class="col-md-6">
          <label class="form-label">é€ å‚·ï¼ˆä¾‹å¦‚ 1.1 ç‚º +10%ï¼‰</label>
          <input type="number" step="0.01" class="form-control" id="finalDamageMult" value="1.1">
        </div>

        <div class="col-md-6">
          <label class="form-label">æ¸›å‚·ï¼ˆä¾‹å¦‚ 0.95 ç‚ºæ¸›å°‘ 5%ï¼‰</label>
          <input type="number" step="0.01" class="form-control" id="damageReduceMult" value="0.95">
        </div>

        <!-- æŒ‰éˆ•èˆ‡çµæœ -->
        <div class="col-12 text-center">
          <button type="button" class="btn btn-primary px-5" onclick="calculateDamage()">è¨ˆç®—å‚·å®³</button>
        </div>
        <div class="col-12 text-center mt-3">
          <div id="result" class="alert alert-info fw-bold" role="alert" style="display:none;"></div>
        </div>
      </form>
    </div>
  </div>
</div>

<!-- JavaScript -->
<script>
  function calculateDamage() {
    const baseSkill = parseFloat(document.getElementById('baseSkill').value);
    const skillPercent = parseFloat(document.getElementById('skillPercent').value);
    const panelDamage = parseFloat(document.getElementById('panelDamage').value);
    const damagePercent = parseFloat(document.getElementById('damagePercent').value);
    const techBonus = parseFloat(document.getElementById('techBonus').value);
    const elementBonus = parseFloat(document.getElementById('elementBonus').value);
    const targetElementBonus = parseFloat(document.getElementById('targetElementBonus').value);
    const weaponBonus = parseFloat(document.getElementById('weaponBonus').value);
    const levelDiff = parseFloat(document.getElementById('levelDiff').value);
    const elementResist = parseFloat(document.getElementById('elementResist').value);
    const defenseReduction = parseFloat(document.getElementById('defenseReduction').value);
    const critDamage = parseFloat(document.getElementById('critDamage').value);
    const critReduce = parseFloat(document.getElementById('critReduce').value);
    const finalDamageMult = parseFloat(document.getElementById('finalDamageMult').value);
    const damageReduceMult = parseFloat(document.getElementById('damageReduceMult').value);

    const rawDamage =
      baseSkill * (skillPercent / 100) +
      panelDamage * (damagePercent / 100) +
      techBonus +
      elementBonus +
      targetElementBonus +
      weaponBonus +
      (0.005 * levelDiff) -
      elementResist -
      defenseReduction;

    const critMultiplier = (critDamage - critReduce) / 100;
    const finalDamage = rawDamage * critMultiplier * finalDamageMult * damageReduceMult;

    const resultDiv = document.getElementById('result');
    resultDiv.innerText = 'ğŸ‘‰ å¯¦éš›å‚·å®³ç‚ºï¼š' + finalDamage.toFixed(2);
    resultDiv.style.display = 'block';
  }
</script>

</body>
</html>
